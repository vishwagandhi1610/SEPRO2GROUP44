<html>
	<head>        
        <meta charset="UTF-8">
        <meta name="description" content="Dynamic Rule Builder and Interpreter">
        <meta name="keywords" content="Rule Builder, Medical rules">
        <meta name="author" content="Jugu Dannie Sundar">
        <script src="rule.interpreter.lexer.js"></script>
        <script src="rule.interpreter.parser.js"></script>
        <script src="rule.interpreter.interpreter.js"></script>
        <script src="rule.interpreter.evaluator.js"></script>
        <link rel="stylesheet" type="text/css" href="rule.addedit.css"/>
		<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
		 <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.min.js"></script>
		<script src="rule.addedit.main.js"></script>
        <script src="rule.test.main.js"></script>
		<script>          
			/*var output = parseRule("a - ( b - c )",{"a":100,"b":20,"c":30}, {});		
			console.log(output);
			output = parseRule("( a -  b ) - c ",{"a":100,"b":20,"c":30}, {});		
			console.log(output);*/
            $(document).ready(function() {
                loadLabValues();
                attachEventHandlers();
                attachEventHandlesForTesting();
            }); // end of document ready function                    						
		</script>
	</head>
    <body>
        <div class="topmessage">
            <div class="message">This operation was good</div>
            <div class="messageclose" title='Close'>x</div>            
        </div>
        <div class = "modalTemplate">
            <div class="modalclose" title='Close'>x</div>
            <div id="modalmessage">
            </div>
            <div></div>
        </div>
        <div class="associationTemplate" style='display:none'>
            <div class="associationclass">AND</div>
        </div>
        <div class="associationGroupTemplate" style='display:none'>
            <div class="associationgroupclass">AND</div>
        </div>
		<div id = "conditionTemplate" style="display:none">
			<div class="acondition">
				<select class="lhs"></select>&nbsp;&nbsp;
				<select class="operator"></select>&nbsp;&nbsp;
				<select class="rhs"></select>&nbsp;&nbsp;
				<button class="removecondition" style="background-color:red;border-color:red">- Remove</button>
			</div>
		</div>
        <div id = "subcategoryTemplate" style='display:none'>
			<div class = "ruleconditions">
				<h2><span class='expandcollapse'>-</span>
                    Conditions for :
                    <input class="definition" type = 'text'/>
                    <button class='removecategory' title="Delete this subcategory">X</button><span class="nameerror"></span></h2>
                <div class="textandlogicalform">
                    <div class="textform" align="center">
                        <div style="overflow: auto; width:80%; text-align:left">
                            <div contenteditable="true" class="textrule"><span style='color:lightgrey'>Text format of the rule will appear here....</span></div>
                            <div class="isrulevalid"><span></span>&nbsp;<button class="clear">Clear</button></div>
                        </div>
                        <div class="showlogicalform">Show editable version</div>
                    </div>                    
                    <div class="logicalform">                        
                        <div class="ruleTemplate">
                            <div class="groupclass">If 
                                <select class="anyall" style='width:60px'>
                                    <option>All</option>
                                    <option>Any</option>
                                </select>
                                <span>of the following conditions are met:</span>
                                <div class="dropdown">
                                  <button class="condition" >+ Add condition</button>
                                  <div class="dropdown-content">
                                    <a class='conditionlabvalue'>Using labvalue</a>
                                    <a class='conditionsubrule'>Using previously defined condition</a>
                                  </div>
                                </div>                                
                                <button class="groupcondition">(+) Add group condition</button>
                                <button class="removegroupcondition">(-) Remove group</button>
                            </div>
                            <p class="conditionclass"></p>                            
                        </div>
                    </div>                                    
                </div>
			</div>            
		</div>
    </body>
</html>